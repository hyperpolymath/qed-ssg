// SPDX-License-Identifier: AGPL-3.0-or-later
// SPDX-FileCopyrightText: 2025 Jonathan D.A. Jewell
= QED-SSG
:toc: left
:toclevels: 2
:sectnums:
:icons: font
:source-highlighter: rouge

image:https://img.shields.io/badge/license-MIT%20OR%20AGPL--3.0-blue[License]
image:https://img.shields.io/badge/adapters-28-green[Adapters]
image:https://img.shields.io/badge/RSR-Gold-gold[RSR Compliance]

**Satellite SSG implementation providing MCP adapters for 28 static site generators.**

Part of the https://github.com/hyperpolymath[hyperpolymath] ecosystem.

== Overview

QED-SSG is a satellite project that provides Model Context Protocol (MCP) adapters for 28 different static site generators. It integrates with the https://github.com/hyperpolymath/poly-ssg-mcp[poly-ssg-mcp] hub to offer a unified interface for SSG operations.

=== Features

* **28 SSG Adapters** covering Rust, Haskell, Elixir, Julia, Scala, Racket, and more
* **MCP Protocol** for AI-assisted site generation
* **Secure by Design** with parameterized command execution
* **RSR Compliant** following Rhodium Standard Repository guidelines

== Quick Start

[source,bash]
----
# Clone the repository
git clone https://github.com/hyperpolymath/qed-ssg
cd qed-ssg

# Setup (requires Deno)
just setup

# List available adapters
just list-adapters

# Run tests
just test
----

== Requirements

* https://deno.land[Deno] 1.40+ (runtime)
* https://github.com/casey/just[Just] (task runner, recommended)
* Individual SSG binaries for adapters you want to use

== Adapters

=== Available Adapters (28)

[cols="2,1,3"]
|===
|Adapter |Language |Description

|**Zola**
|Rust
|Fast SSG with built-in Sass compilation

|**Cobalt**
|Rust
|Straightforward static site generator

|**mdBook**
|Rust
|Create books from Markdown files

|**Hakyll**
|Haskell
|Pandoc-powered static site generator

|**Ema**
|Haskell
|Hot-reload static site generator

|**Serum**
|Elixir
|Simple static website generator

|**Tableau**
|Elixir
|Data-focused static site generator

|**NimblePublisher**
|Elixir
|Minimal publishing engine

|**Babashka**
|Clojure
|Native Clojure scripting

|**Cryogen**
|Clojure
|Simple static site generator

|**Perun**
|Clojure
|Composable static site generator

|**Franklin.jl**
|Julia
|Technical blogging framework

|**Documenter.jl**
|Julia
|Julia documentation generator

|**StaticWebPages.jl**
|Julia
|Static website generator

|**Laika**
|Scala
|Site and e-book generator

|**ScalaTex**
|Scala
|LaTeX-integrated generator

|**Frog**
|Racket
|Static blog generator

|**Pollen**
|Racket
|Book-publishing system

|**Fornax**
|F#
|Scriptable static site generator

|**Orchid**
|Kotlin
|Documentation generator

|**Marmot**
|Crystal
|Static site generator

|**Coleslaw**
|Common Lisp
|Flexible static site generator

|**Nimrod**
|Nim
|Static site generator

|**Reggae**
|D
|Build system and SSG

|**Publish**
|Swift
|Static site generator

|**Wub**
|Tcl
|Web application framework

|**YOCaml**
|OCaml
|Static site generator

|**Zotonic**
|Erlang
|CMS and framework
|===

=== Using Adapters

Each adapter exposes a consistent interface:

[source,javascript]
----
import * as zola from './adapters/zola.js';

// Connect to the SSG
await zola.connect();

// Use tools
await zola.tools[0].execute({ path: 'mysite' });  // zola_init
await zola.tools[1].execute({ path: '.' });        // zola_build
await zola.tools[2].execute({ port: 1111 });       // zola_serve

// Disconnect
await zola.disconnect();
----

== Project Structure

[source]
----
qed-ssg/
├── adapters/           # 28 SSG adapter implementations
│   ├── zola.js
│   ├── hakyll.js
│   └── ...
├── hooks/              # Git hooks (pre-commit, pre-push, commit-msg)
├── formulae/           # Nickel configuration formulae
│   ├── adapters.ncl
│   └── cli.ncl
├── .github/
│   └── workflows/      # CI/CD pipelines
│       ├── ci.yml
│       ├── codeql.yml
│       └── release.yml
├── Justfile            # Task runner recipes
├── Mustfile            # Required checks
├── config.ncl          # Project configuration
├── cookbook.adoc       # Usage recipes and patterns
├── PLAYBOOK.scm        # Operational workflows
├── AGENTIC.scm         # AI agent capabilities
├── NEUROSYM.scm        # Formal specifications
├── ECOSYSTEM.scm       # Ecosystem metadata
├── META.scm            # Architecture decisions
└── STATE.scm           # Project state tracking
----

== Development

=== Commands

[cols="2,3"]
|===
|Command |Description

|`just setup`
|Set up development environment

|`just dev`
|Start development with watch mode

|`just test`
|Run unit tests

|`just test-all`
|Run all test suites

|`just lint`
|Run linters

|`just fmt`
|Format code

|`just audit`
|Security audit

|`just build`
|Build and validate

|`just ci`
|Run full CI pipeline locally

|`just validate`
|Complete validation
|===

=== Git Hooks

Install hooks for automatic checks:

[source,bash]
----
just install-hooks
----

This installs:

* **pre-commit**: Format check, lint, tests, security checks
* **pre-push**: Full test suite, security audit
* **commit-msg**: Conventional commits enforcement

=== Conventional Commits

All commits must follow https://www.conventionalcommits.org/[Conventional Commits]:

[source]
----
feat(adapters): add support for new SSG
fix(zola): handle missing config file
docs: update README with usage examples
test(hakyll): add integration tests
----

== Security

=== Design Principles

1. **Parameterized Commands**: All adapters use `Deno.Command` with argument arrays
2. **No eval()**: Dynamic code execution is prohibited
3. **No Hardcoded Secrets**: All credentials via environment variables
4. **SPDX Headers**: All source files have license headers
5. **SHA-Pinned Actions**: All GitHub Actions use commit SHAs

=== Reporting Vulnerabilities

See link:SECURITY.md[SECURITY.md] for our security policy.

== Configuration

=== Nickel Configuration

[source,nickel]
----
# config.ncl
{
  adapters = {
    timeout_ms = 30000,
    retry_count = 3,
  },
  test = {
    coverage_threshold = 70,
  },
  security = {
    require_spdx = true,
  },
}
----

=== Environment Variables

[cols="2,3,1"]
|===
|Variable |Description |Default

|`QED_SSG_TIMEOUT`
|Adapter timeout in ms
|30000

|`QED_SSG_DEBUG`
|Enable debug logging
|false
|===

== SCM Files

This project uses Scheme-based configuration files:

[cols="2,3"]
|===
|File |Purpose

|`ECOSYSTEM.scm`
|Project's position in hyperpolymath ecosystem

|`META.scm`
|Architecture decisions and development practices

|`STATE.scm`
|Current project state and progress

|`PLAYBOOK.scm`
|Operational workflows and recipes

|`AGENTIC.scm`
|AI agent capabilities and permissions

|`NEUROSYM.scm`
|Formal specifications and invariants
|===

== Contributing

See link:CONTRIBUTING.md[CONTRIBUTING.md] for guidelines.

=== Perimeter Model

* **P1** (Core): Adapters, security-critical code
* **P2** (Standard): Tests, documentation, configuration
* **P3** (Open): Issue templates, examples

== License

Dual-licensed under MIT OR AGPL-3.0-or-later.

See link:LICENSE.txt[LICENSE.txt] for details.

== Links

* https://github.com/hyperpolymath/poly-ssg-mcp[poly-ssg-mcp] - Hub project
* https://github.com/hyperpolymath/rhodium-standard-repositories[RSR] - Repository standard
* link:cookbook.adoc[Cookbook] - Recipes and patterns
* link:SECURITY.md[Security Policy]

---

_Part of the https://github.com/hyperpolymath[hyperpolymath] ecosystem._
